# üîç Test Process Monitor (Linux)

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞ `test` —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ö –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –õ—ë–≥–∫–∏–π Bash-—Å–∫—Ä–∏–ø—Ç + systemd timer –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ `test` –≤ —Å–∏—Å—Ç–µ–º–µ Linux.
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –µ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (—Å–º–µ–Ω—ã PID).
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø—Ä–æ—Ü–µ—Å—Å–∞.

---

## üóÇÔ∏è –°–æ—Å—Ç–∞–≤ –ø—Ä–æ–µ–∫—Ç–∞

| –§–∞–π–ª                             | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                    |
|----------------------------------|-----------------------------------------------|
| `bin/test_monitor.sh`            | –û—Å–Ω–æ–≤–Ω–æ–π Bash-—Å–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞              |
| `systemd/test-monitor.service`   | systemd-—Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ |
| `systemd/test-monitor.timer`     | systemd-—Ç–∞–π–º–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É |

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Bash-—Å–∫—Ä–∏–ø—Ç
```bash
sudo cp bin/test_monitor.sh /usr/local/bin/test_monitor.sh
sudo chmod +x /usr/local/bin/test_monitor.sh
sudo touch /var/log/monitoring.log
sudo chmod 644 /var/log/monitoring.log
````

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å systemd service & timer

```bash
sudo cp systemd/test-monitor.service /etc/systemd/system/
sudo cp systemd/test-monitor.timer /etc/systemd/system/
```

### 3. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–º–µ—Ä

```bash
sudo systemctl daemon-reload
sudo systemctl enable --now test-monitor.timer
```

---

## üõ†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

* –°–ø–∏—Å–æ–∫ —Ç–∞–π–º–µ—Ä–æ–≤:

  ```bash
  systemctl list-timers | grep test-monitor
  ```
* –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–∫—Ä–∏–ø—Ç–∞:

  ```bash
  cat /var/log/monitoring.log
  ```
* –ñ—É—Ä–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞:

  ```bash
  journalctl -u test-monitor.service
  ```

---

## üö® –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥ –ø–∏—à–µ—Ç—Å—è –≤ `/var/log/monitoring.log`:

* –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ (—Å–º–µ–Ω–µ PID).
* –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ `https://test.com/monitoring/test/api`.

---

## üîí –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Linux —Å systemd (Ubuntu 20.04+, CentOS 7+, Debian 10+).
* –£—Ç–∏–ª–∏—Ç—ã: `bash`, `pgrep`, `curl`.

---

## ‚úçÔ∏è TODO (—Ä–∞–∑–≤–∏—Ç–∏–µ)

* [ ] Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–±–æ—è—Ö.
* [ ] –í–µ–±—Ö—É–∫–∏ –≤ Telegram/Slack.
* [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prometheus/Grafana (node\_exporter textfile collector).

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License.

